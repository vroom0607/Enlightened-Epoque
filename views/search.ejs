<% layout('layout', { title: title || 'Search Results' }) %>

<h1><%= heading || `Search Results for "${query}"` %></h1>

<div class="articles-container">
  <% if (articles.length === 0) { %>
    <p>No articles found for "<%= query %>".</p>
  <% } else { %>
    <% articles.forEach(article => { %>
      <article>
        <h2><a href="/articles/<%= article.slug %>"><%= article.title %></a></h2>
        <p><em>
          <%= new Date(article.date).toLocaleDateString('en-US', {
            month: '2-digit',
            day: '2-digit',
            year: 'numeric'
          }) %>
        </em></p>
        <p><%= article.description || article.content.slice(0, 200) + '...' %></p>
      </article>
    <% }) %>
  <% } %>
</div>